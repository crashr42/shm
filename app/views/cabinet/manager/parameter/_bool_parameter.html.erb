<%= form_for p, :as => :parameter, :url => url_for(:controller => :parameter, :action => p.new_record? ? :create : :update), :html => {:class => 'form-horizontal'} do |f| %>
    <%= f.hidden_field :type, :value => 'BoolParameter' %>
    <div class="control-group">
      <%= f.label :name, :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :name, :placeholder => 'parameter name' %>
      </div>
    </div>
    <div class="control-group">
      <label class="control-label">Default</label>

      <div class="controls">
        <%= check_box_tag 'parameter[metadata][default]', 'true', p.metadata[:default] == 'true' %>
      </div>
    </div>
    <div class="form-actions">
      <%= link_to 'Back', {:controller => :parameter, :action => :index}, :class => 'btn' %>
      <button type="submit" class="btn btn-success">
        <%= p.new_record? ? 'Create' : 'Update' %>
      </button>
    </div>
<% end %>