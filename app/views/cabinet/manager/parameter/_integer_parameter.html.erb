<%= simple_form_for p, :as => :parameter, :url => url_for(:controller => :parameter, :action => p.new_record? ? :create : :update), :html => {:class => 'form-horizontal'} do |f| %>
    <%= f.hidden_field :type, :value => 'IntegerParameter' %>
    <%= f.input :name, :input_html => {:placeholder => 'parameter name'} %>
    <div class="control-group">
      <label class="control-label">Default</label>

      <div class="controls">
        <input type="text" name="parameter[metadata][default]" placeholder="default value" value="<%= p.metadata[:default] %>">
      </div>
    </div>
    <div class="control-group">
      <label class="control-label">Min</label>

      <div class="controls">
        <input type="text" name="parameter[metadata][validators][min]" placeholder="min value for parameter" value="<%= p.metadata[:validators][:min] %>">
      </div>
    </div>
    <div class="control-group">
      <label class="control-label">Max</label>

      <div class="controls">
        <input type="text" name="parameter[metadata][validators][max]" placeholder="max value for parameter" value="<%= p.metadata[:validators][:max] %>">
      </div>
    </div>
    <%= f.input :rule_parameter_input_id, :collection => RuleParameterInput.all, :value_method => :id, :label_method => :rule %>
    <div class="form-actions">
      <%= link_to 'Back', {:controller => :parameter, :action => :index}, :class => 'btn' %>
      <button type="submit" class="btn btn-success">
        <%= p.new_record? ? 'Create' : 'Update' %>
      </button>
    </div>
<% end %>